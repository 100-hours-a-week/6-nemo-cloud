statefulset:
  name: kafka-controller

controller:
  replicaCount: 3

container:
  port: 9092
  controllerPort: 9093
  
image:
  repository: bitnami/kafka
  tag: 3.6.0


service:
  name: kafka
  type: ClusterIP
  port: 9092
  targetPort: 9092

persistence:
  storageClass: gp3  # # 이미 존재하는 gp3 StorageClass를 참조만 함
  size: 10Gi

storageClass:
  create: false  #Kafka Helm Chart에서 StorageClass 생성 시도하지 않도록 차단

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchLabels:
              app.kubernetes.io/name: kafka
          topologyKey: topology.kubernetes.io/zone

zookeeper:
  enabled: false

kraft:
  enabled: true
  clusterId: "nemo-cluster-123"  # 클러스터 고정 UUID
  quorumVoters: |
    0@kafka-controller-0.kafka-headless.kafka.svc.cluster.local:9093,\
    1@kafka-controller-1.kafka-headless.kafka.svc.cluster.local:9093,\
    2@kafka-controller-2.kafka-headless.kafka.svc.cluster.local:9093