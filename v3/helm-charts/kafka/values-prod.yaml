statefulset:
  name: kafka-controller

controller:
  replicaCount: 3

container:
  port: 9092
  controllerPort: 9093
  
image:
  repository: bitnami/kafka
  tag: 3.6.0


service:
  name: kafka
  type: ClusterIP
  port: 9092
  targetPort: 9092

storageClass:
  name: gp3
  provisioner: ebs.csi.aws.com
  type: gp3
  fsType: ext4
  reclaimPolicy: Delete
  volumeBindingMode: Immediate
  allowVolumeExpansion: true
  size: 10Gi  # 🔸 StatefulSet에서 사용하는 디스크 크기 기본값

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchLabels:
              app.kubernetes.io/name: kafka
          topologyKey: topology.kubernetes.io/zone

zookeeper:
  enabled: false

kraft:
  enabled: true
  clusterId: "nemo-cluster-123"  # 클러스터 고정 UUID
  quorumVoters: |
    0@kafka-controller-0.kafka-headless.kafka.svc.cluster.local:9093,\
    1@kafka-controller-1.kafka-headless.kafka.svc.cluster.local:9093,\
    2@kafka-controller-2.kafka-headless.kafka.svc.cluster.local:9093